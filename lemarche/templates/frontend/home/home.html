{% extends "frontend/base.html" %}
{% load static %}

{% block title %}API marché de l'inclusion{% endblock %}

{% block content %}
    <nav class="navbar navbar-expand-lg bg-warning text-dark">
        Service en expérimentation et en construction
    </nav>
    <div class="container">
       <div class="row no-gutters pt-3">
           <div class="col col-lg-10 offset-lg-1 mt-4">
            <div class="jumbotron">
                <h1>API marché de l'inclusion</h1>
                <p class="lead">L'API du <a href="https://lemarche.inclusion.beta.gouv.fr" target="_blank">marché de l'inclusion</a> met à disposition le répertoire qualifié des structures d'insertion par l'activité économique.</p>
                <p>Cet API est encore en construction, et est appelée à évoluer.</p>
                <p>
                <p class="text-muted">Version: 0.6</p>
            </div>
            <div class="row mt-5">
                <div class="col-12 bg-info text-white p-3">
                    L'accès aux données complètes est limité pendant la période de construction du service.<br />
                    Si vous désirez obtenir un jeton (<i>token</i>) utilisateur, merci de nous adresser votre demande sur
                    <a href="mailto:lemarche@inclusion.beta.gouv.fr" class="text-dark">lemarche@inclusion.beta.gouv.fr</a>
                </div>
            </div>
            <div class="row mt-5">
                <div class="col-12">
                    <h3 class="mb-3">Dernières Nouveautés</h3>
                    <div class="container">
                        <dl class="row">
                            <dt class="col-sm-3">Préfixe /api</dt>
                            <dd class="col-sm-9">Les urls de l'API sont maintenant préfixées de <b>/api</b> pour préparer à la nouvelle version du marché.</dd>

                            <dt class="col-sm-3">/siae au lieu de /siaes</dt>
                            <dd class="col-sm-9">Les <i>endpoints</i> <b>"/siaes"</b> ont été ré-écrits en <b>"/siae"</b>, SIAE étant un sigle invariable.</dd>

                            <dt class="col-sm-3">Filtres</dt>
                            <dd class="col-sm-9">Ajout de filtres sur la liste des SIAE</dd>

                            <dt class="col-sm-3">Pagination</dt>
                            <dd class="col-sm-9">La liste des SIAE est désormais paginée</dd>

                            <dt class="col-sm-3">Accès identifiant et SIRET</dt>
                            <dd class="col-sm-9">Une SIAE peut désormais être consultée par identifiant ou par SIRET</dd>

                            <dt class="col-sm-3">Zone QPV</dt>
                            <dd class="col-sm-9">Ajout information (booléen) zone quartier prioritaire de la politique de ville</dd>

                            <dt class="col-sm-3">Date mise à jour</dt>
                            <dd class="col-sm-9">Ajout champ <b>updatedat</b> (date de dernière mise à jour)</dd>

                            <dt class="col-sm-3">Recherche plage de dates</dt>
                            <dd class="col-sm-9">Recherche par plage entre 2 dates sur le champ <b>updatedat</b> (date de dernière mise à jour)</dd>
                        </dl>
                    </div>
                </div>
            </div>
            <div class="row mt-5">
                <div class="col-md-4">
                    <h2>OpenAPI</h2>
                    <p>Interface OpenAPI, aussi connue sous le nom de Swagger</p>
                    <p><a href="{% url 'swagger-ui' %}" target="_blank" class="btn btn-success">Ouvrir OpenAPI</a></p>
                </div>
                <div class="col-md-4">
                    <h2>Redoc</h2>
                    <p>ReDoc est une interface REACT par-dessus la spécification OpenAPI</p>
                    <p><a href="{% url 'redoc' %}" target="_blank" class="btn btn-success">Ouvrir ReDoc</a></p>
                </div>
                <div class="col-md-4">
                    <h2>DJango REST</h2>
                    <p>Interface REST Framework : une interface REST interactive </p>
                    <p><a href="{% url 'siae-list' %}" target="_blank" class="btn btn-success">Ouvrir DRF</a></p>
                </div>
            </div>
            <hr>
            <footer>
                <div class="row">
                    <div class="col-md-6">
                        <p>2021 ITOU - <a href="https://inclusion.beta.gouv.fr/" target="_blank">la plateforme de l'inclusion</a></p>
                    </div>
                    <!--
                    <div class="col-md-6 text-md-right">
                        <a href="#" class="text-dark">Terms of Use</a> 
                        <span class="text-muted mx-2">|</span> 
                        <a href="#" class="text-dark">Privacy Policy</a>
                    </div>
                    -->
                </div>
            </footer>
            </div>
        </div>
    </div>
{% endblock %}
